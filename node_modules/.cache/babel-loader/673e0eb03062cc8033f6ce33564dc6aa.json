{"remainingRequest":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/babel-loader/lib/index.js!/Users/ilyatish/Projects/maxi-booking-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ilyatish/Projects/maxi-booking-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ilyatish/Projects/maxi-booking-test/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ilyatish/Projects/maxi-booking-test/src/App.vue","mtime":1602699675556},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/cache-loader/dist/cjs.js","mtime":1581966828116},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/babel-loader/lib/index.js","mtime":1587282321022},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/cache-loader/dist/cjs.js","mtime":1581966828116},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/vue-loader/lib/index.js","mtime":1602678030223}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KdmFyIGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKSwKICAgIHBhcnNlU3RyaW5nID0gcmVxdWlyZSgneG1sMmpzJykucGFyc2VTdHJpbmc7Cgp2YXIgZ2V0U291cmNlID0gZnVuY3Rpb24gZ2V0U291cmNlKGFyciwgaW5kZXgsIGFyclRvUHVzaCwgY29udGV4dCkgewogIGF4aW9zLmdldChhcnJbaW5kZXhdKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgIGlmIChyZXMuaGVhZGVyc1snY29udGVudC10eXBlJ10gPT09ICd0ZXh0L3htbCcpIHsKICAgICAgcGFyc2VTdHJpbmcocmVzLmRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkgewogICAgICAgIGlmIChyZXN1bHQuVmFsQ3Vycy5WYWx1dGVbMTFdKSB7CiAgICAgICAgICBjb250ZXh0LiRzZXQoY29udGV4dC52YWx1dGVzRGF0YSwgJ0VVUl94bWwnLCByZXN1bHQuVmFsQ3Vycy5WYWx1dGVbMTFdKTsKICAgICAgICB9CgogICAgICAgIGFyclRvUHVzaC5wdXNoKHJlc3VsdCk7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYXJyVG9QdXNoLnB1c2gocmVzLmRhdGEpOwogICAgfQogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgaWYgKGluZGV4IDwgYXJyLmxlbmd0aCAtIDEpIHsKICAgICAgcmV0dXJuIGdldFNvdXJjZShhcnIsIGluZGV4ICsgMSwgYXJyVG9QdXNoLCBjb250ZXh0KTsKICAgIH0KCiAgICB0aHJvdyBlcnJvcjsKICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsdXRlc0RhdGE6IHsKICAgICAgICBFVVJfeG1sOiB7CiAgICAgICAgICBOYW1lOiBbJyddCiAgICAgICAgfQogICAgICB9LAogICAgICBzb3VyY2VzRGF0YTogW10sCiAgICAgIHNvdXJjZXM6IFsnaHR0cHM6Ly93d3cuY2JyLXhtbC1kYWlseS5ydS9kYWlseV91dGY4LnhtbCcsICdodHRwczovL3d3dy5jYnIteG1sLWRhaWx5LnJ1L2RhaWx5X2pzb24uanMnXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBnZXRTb3VyY2Uoc2VsZi5zb3VyY2VzLCAwLCBzZWxmLnNvdXJjZXNEYXRhLCBzZWxmKTsKICB9Cn07IC8vIGF4aW9zLmFsbCgKLy8gICBzZWxmLnNvdXJjZXMubWFwKHNvdXJjZSA9PiB7Ci8vICAgICBheGlvcwovLyAgICAgICAuZ2V0KHNvdXJjZSkKLy8gICAgICAgLnRoZW4ocmVzID0+IHsKLy8gICAgICAgICBpZiAocmVzLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID09PSAndGV4dC94bWwnKSB7Ci8vICAgICAgICAgICBwYXJzZVN0cmluZyhyZXMuZGF0YSwgKGVyciwgcmVzdWx0KSA9PiB7Ci8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCkKLy8gICAgICAgICAgICAgc2VsZi5zb3VyY2VzRGF0YS5wdXNoKHJlc3VsdCkKLy8gICAgICAgICAgIH0pCi8vICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKQovLyAgICAgICAgICAgc2VsZi5zb3VyY2VzRGF0YS5wdXNoKHJlcy5kYXRhKQovLyAgICAgICAgIH0KLy8gICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNvdXJjZXNEYXRhKQovLyAgICAgICB9KQovLyAgIH0pCi8vICk="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;AAOA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAAA,IACA,WAAA,GAAA,OAAA,CAAA,QAAA,CAAA,CAAA,WADA;;AAGA,IAAA,SAAA,GAAA,SAAA,SAAA,CAAA,GAAA,EAAA,KAAA,EAAA,SAAA,EAAA,OAAA,EAAA;AACA,EAAA,KAAA,CACA,GADA,CACA,GAAA,CAAA,KAAA,CADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,OAAA,CAAA,cAAA,MAAA,UAAA,EAAA;AACA,MAAA,WAAA,CAAA,GAAA,CAAA,IAAA,EAAA,UAAA,GAAA,EAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,IAAA,CAAA,OAAA,CAAA,WAAA,EAAA,SAAA,EAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,CAAA;AACA;;AACA,QAAA,SAAA,CAAA,IAAA,CAAA,MAAA;AACA,OALA,CAAA;AAMA,KAPA,MAOA;AACA,MAAA,SAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA;AACA;AACA,GAbA,EAaA,KAbA,CAaA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,GAAA,GAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,SAAA,CAAA,GAAA,EAAA,KAAA,GAAA,CAAA,EAAA,SAAA,EAAA,OAAA,CAAA;AACA;;AACA,UAAA,KAAA;AACA,GAlBA;AAmBA,CApBA;;AAsBA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,IAAA,EAAA,CAAA,EAAA;AADA;AADA,OADA;AAMA,MAAA,WAAA,EAAA,EANA;AAOA,MAAA,OAAA,EAAA,CACA,6CADA,EAEA,4CAFA;AAPA,KAAA;AAYA,GAfA;AAgBA,EAAA,OAAA,EAAA,mBAAA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,IAAA,SAAA,CAAA,IAAA,CAAA,OAAA,EAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CAAA;AACA;AAnBA,CAAA,C,CAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA","sourcesContent":["<template lang='pug'>\n  #app\n    .box.box-1 \n      .xml-box(v-if='valutesData') {{ valutesData.EUR_xml.Name[0] }}\n</template>\n\n<script>\nconst axios       = require('axios'),\n      parseString = require('xml2js').parseString;\n\nconst getSource = (arr, index, arrToPush, context) => {\n  axios\n    .get(arr[index])\n    .then(res => {\n      if (res.headers['content-type'] === 'text/xml') {\n        parseString(res.data, (err, result) => {\n          if (result.ValCurs.Valute[11]) {\n            context.$set(context.valutesData, 'EUR_xml', result.ValCurs.Valute[11])\n          }\n          arrToPush.push(result)\n        })\n      } else {\n        arrToPush.push(res.data)\n      }\n    }).catch(error => {\n      if (index < arr.length - 1) {\n        return getSource(arr, index + 1, arrToPush, context);\n      }\n      throw error;\n    })\n}\n\nexport default {\n  name: 'App',\n  data () {\n    return {\n      valutesData: {\n        EUR_xml: {\n          Name: ['']\n        }\n      },\n      sourcesData: [],\n      sources: [\n        'https://www.cbr-xml-daily.ru/daily_utf8.xml',\n        'https://www.cbr-xml-daily.ru/daily_json.js'\n      ]\n    }\n  },\n  mounted: function() {\n    const self = this;\n    getSource(self.sources, 0, self.sourcesData, self)\n  }\n}\n\n\n\n    // axios.all(\n    //   self.sources.map(source => {\n    //     axios\n    //       .get(source)\n    //       .then(res => {\n    //         if (res.headers['content-type'] === 'text/xml') {\n    //           parseString(res.data, (err, result) => {\n    //             console.log(result)\n    //             self.sourcesData.push(result)\n    //           })\n    //         } else {\n    //           console.log(res.data)\n    //           self.sourcesData.push(res.data)\n    //         }\n\n    //         console.log(this.sourcesData)\n    //       })\n    //   })\n    // )\n</script>\n\n<style lang='stylus'>\n#app\n  font-family: Avenir, Helvetica, Arial, sans-serif\n  -webkit-font-smoothing: antialiased\n  -moz-osx-font-smoothing: grayscale\n  text-align: center\n  color: #2c3e50\n  margin-top: 60px\n\n.box\n  margin: 40px 0\n  background #EEEEEE\n</style>\n"],"sourceRoot":"src"}]}