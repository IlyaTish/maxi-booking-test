{"remainingRequest":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/thread-loader/dist/cjs.js!/Users/ilyatish/Projects/maxi-booking-test/node_modules/babel-loader/lib/index.js!/Users/ilyatish/Projects/maxi-booking-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ilyatish/Projects/maxi-booking-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ilyatish/Projects/maxi-booking-test/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ilyatish/Projects/maxi-booking-test/src/App.vue","mtime":1602742367316},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/cache-loader/dist/cjs.js","mtime":1581966828116},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/thread-loader/dist/cjs.js","mtime":1581966828121},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/babel-loader/lib/index.js","mtime":1587282321022},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/cache-loader/dist/cjs.js","mtime":1581966828116},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/vue-loader/lib/index.js","mtime":1602678030223}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKSwKICAgIHBhcnNlU3RyaW5nID0gcmVxdWlyZSgneG1sMmpzJykucGFyc2VTdHJpbmc7Cgp2YXIgZ2V0U291cmNlID0gZnVuY3Rpb24gZ2V0U291cmNlKGFyciwgaW5kZXgsIGFyclRvUHVzaCwgY29udGV4dCkgewogIGF4aW9zLmdldChhcnJbaW5kZXhdLCB7CiAgICB0aW1lb3V0OiA2MDAwMAogIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgaWYgKHJlcy5oZWFkZXJzWydjb250ZW50LXR5cGUnXSA9PT0gJ3RleHQveG1sJykgewogICAgICBwYXJzZVN0cmluZyhyZXMuZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC5WYWxDdXJzLlZhbHV0ZVsxMV0pIHsKICAgICAgICAgIGNvbnRleHQuJHNldChjb250ZXh0LnZhbHV0ZXNEYXRhX3htbCwgJ0VVUicsIHJlc3VsdC5WYWxDdXJzLlZhbHV0ZVsxMV0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlc3VsdC5WYWxDdXJzLlZhbHV0ZVsxMF0pIHsKICAgICAgICAgIGNvbnRleHQuJHNldChjb250ZXh0LnZhbHV0ZXNEYXRhX3htbCwgJ1VTRCcsIHJlc3VsdC5WYWxDdXJzLlZhbHV0ZVsxMF0pOwogICAgICAgIH0KCiAgICAgICAgYXJyVG9QdXNoLnB1c2gocmVzdWx0KTsKICAgICAgICBjb250ZXh0LnZhbHV0ZXNEYXRhX3htbC5sb2FkZWQgPSB0cnVlOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChyZXMuZGF0YS5WYWx1dGUuRVVSKSB7CiAgICAgICAgY29udGV4dC4kc2V0KGNvbnRleHQudmFsdXRlc0RhdGFfanNvbl9qcywgJ0VVUicsIHJlcy5kYXRhLlZhbHV0ZS5FVVIpOwogICAgICB9CgogICAgICBpZiAocmVzLmRhdGEuVmFsdXRlLlVTRCkgewogICAgICAgIGNvbnRleHQuJHNldChjb250ZXh0LnZhbHV0ZXNEYXRhX2pzb25fanMsICdVU0QnLCByZXMuZGF0YS5WYWx1dGUuVVNEKTsKICAgICAgfQoKICAgICAgYXJyVG9QdXNoLnB1c2gocmVzLmRhdGEpOwogICAgfQoKICAgIGNvbnRleHQudmFsdXRlc0RhdGFfanNvbl9qcy5sb2FkZWQgPSB0cnVlOwogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgaWYgKGluZGV4IDwgYXJyLmxlbmd0aCAtIDEpIHsKICAgICAgcmV0dXJuIGdldFNvdXJjZShhcnIsIGluZGV4ICsgMSwgYXJyVG9QdXNoLCBjb250ZXh0KTsKICAgIH0KCiAgICB0aHJvdyBlcnJvcjsKICB9KTsKICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgIGdldFNvdXJjZShhcnIsIGluZGV4LCBhcnJUb1B1c2gsIGNvbnRleHQpOwogIH0sIDEwMDAwKTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW50ZXJ2YWw6IG51bGwsCiAgICAgIGNvbW1vbkRhdGE6IHsKICAgICAgICBkYXRlOiAnJwogICAgICB9LAogICAgICB2YWx1dGVzRGF0YV94bWw6IHsKICAgICAgICBsb2FkZWQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIHZhbHV0ZXNEYXRhX2pzb25fanM6IHsKICAgICAgICBsb2FkZWQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIHNvdXJjZXNEYXRhOiBbXSwKICAgICAgc291cmNlczogWydodHRwczovL3d3dy5jYnIteG1sLWRhaWx5LnJ1L2RhaWx5X3V0ZjgueG1sJywgJ2h0dHBzOi8vd3d3LmNici14bWwtZGFpbHkucnUvZGFpbHlfanNvbi5qcyddCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZGF0ZUZ1bmN0aW9uOiBmdW5jdGlvbiBkYXRlRnVuY3Rpb24oY29udGV4dCkgewogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpLAogICAgICAgICAgY3VycmVudERhdGUgPSB0b2RheS5nZXREYXRlKCkgKyAnLicgKyAodG9kYXkuZ2V0TW9udGgoKSArIDEpICsgJy4nICsgdG9kYXkuZ2V0RnVsbFllYXIoKTsKICAgICAgY29udGV4dC5jb21tb25EYXRhLmRhdGUgPSBjdXJyZW50RGF0ZTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBnZXRTb3VyY2Uoc2VsZi5zb3VyY2VzLCAwLCBzZWxmLnNvdXJjZXNEYXRhLCBzZWxmKTsKICAgIHRoaXMuZGF0ZUZ1bmN0aW9uKHNlbGYpOwogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAAA,IACA,WAAA,GAAA,OAAA,CAAA,QAAA,CAAA,CAAA,WADA;;AAGA,IAAA,SAAA,GAAA,SAAA,SAAA,CAAA,GAAA,EAAA,KAAA,EAAA,SAAA,EAAA,OAAA,EAAA;AACA,EAAA,KAAA,CACA,GADA,CACA,GAAA,CAAA,KAAA,CADA,EACA;AACA,IAAA,OAAA,EAAA;AADA,GADA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,OAAA,CAAA,cAAA,MAAA,UAAA,EAAA;AACA,MAAA,WAAA,CAAA,GAAA,CAAA,IAAA,EAAA,UAAA,GAAA,EAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,IAAA,CAAA,OAAA,CAAA,eAAA,EAAA,KAAA,EAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,CAAA;AACA;;AAEA,YAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,IAAA,CAAA,OAAA,CAAA,eAAA,EAAA,KAAA,EAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,CAAA;AACA;;AACA,QAAA,SAAA,CAAA,IAAA,CAAA,MAAA;AACA,QAAA,OAAA,CAAA,eAAA,CAAA,MAAA,GAAA,IAAA;AACA,OAVA,CAAA;AAWA,KAZA,MAcA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,IAAA,CAAA,OAAA,CAAA,mBAAA,EAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,GAAA;AACA;;AAEA,UAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,IAAA,CAAA,OAAA,CAAA,mBAAA,EAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,GAAA;AACA;;AACA,MAAA,SAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA;AACA;;AACA,IAAA,OAAA,CAAA,mBAAA,CAAA,MAAA,GAAA,IAAA;AACA,GA9BA,EAgCA,KAhCA,CAgCA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,GAAA,GAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,SAAA,CAAA,GAAA,EAAA,KAAA,GAAA,CAAA,EAAA,SAAA,EAAA,OAAA,CAAA;AACA;;AACA,UAAA,KAAA;AACA,GArCA;AAuCA,EAAA,UAAA,CAAA,YAAA;AACA,IAAA,SAAA,CAAA,GAAA,EAAA,KAAA,EAAA,SAAA,EAAA,OAAA,CAAA;AACA,GAFA,EAEA,KAFA,CAAA;AAGA,CA3CA;;AA6CA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,UAAA,EAAA;AACA,QAAA,IAAA,EAAA;AADA,OAFA;AAKA,MAAA,eAAA,EAAA;AACA,QAAA,MAAA,EAAA;AADA,OALA;AAQA,MAAA,mBAAA,EAAA;AACA,QAAA,MAAA,EAAA;AADA,OARA;AAWA,MAAA,WAAA,EAAA,EAXA;AAYA,MAAA,OAAA,EAAA,CACA,6CADA,EAEA,4CAFA;AAZA,KAAA;AAiBA,GApBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA,EAAA,sBAAA,OAAA,EAAA;AACA,UAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AAAA,UACA,WAAA,GAAA,KAAA,CAAA,OAAA,KAAA,GAAA,IAAA,KAAA,CAAA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,KAAA,CAAA,WAAA,EADA;AAGA,MAAA,OAAA,CAAA,UAAA,CAAA,IAAA,GAAA,WAAA;AACA;AANA,GAtBA;AA+BA,EAAA,OAAA,EAAA,mBAAA;AACA,QAAA,IAAA,GAAA,IAAA;AAEA,IAAA,SAAA,CAAA,IAAA,CAAA,OAAA,EAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CAAA;AACA,SAAA,YAAA,CAAA,IAAA;AACA;AApCA,CAAA","sourcesContent":["<template lang='pug'>\n  #app\n    md-content\n      .md-content-wrapper\n        .md-card-wrapper\n          h2.md-title Курс евро (EUR)\n          md-card.md-with-hover\n            md-ripple\n              .md-layout\n                .md-layout-item\n                  span.md-subtitle Дата\n                  span.md-txt {{ commonData.date }}\n\n                .md-layout-item.charcode-col\n                  span.md-subtitle Код\n                  template(v-if='valutesData_xml.loaded')\n                    span.md-txt {{ valutesData_xml.EUR.CharCode[0] }}\n                  template(v-else-if='valutesData_json_js.loaded')\n                    span.md-txt {{ valutesData_json_js.EUR.CharCode }}\n                  template(v-else)\n                    span.md-txt EUR\n\n                .md-layout-item.nominal-col\n                  span.md-subtitle Номинал\n                  template(v-if='valutesData_xml.loaded')\n                    span.md-txt {{ valutesData_xml.EUR.Nominal[0] }}\n                  template(v-else-if='valutesData_json_js.loaded')\n                    span.md-txt {{ valutesData_json_js.EUR.Nominal }}\n                  template(v-else)\n                    span.md-txt -\n\n                .md-layout-item.value-col\n                  span.md-subtitle Курс\n                  template(v-if='valutesData_xml.loaded')\n                    span.md-txt.bold {{ valutesData_xml.EUR.Value[0] }}\n                  template(v-else-if='valutesData_json_js.loaded')\n                    span.md-txt.bold {{ valutesData_json_js.EUR.Value }}\n                  template(v-else)\n                    span.md-txt.bold 00\n\n\n        .md-card-wrapper\n          h2.md-title Курс доллара США (USD)\n          md-card.md-with-hover\n            md-ripple\n              .md-layout\n                .md-layout-item\n                  span.md-subtitle Дата\n                  span.md-txt {{ commonData.date }}\n\n                .md-layout-item.charcode-col\n                  span.md-subtitle Код\n                  template(v-if='valutesData_xml.loaded')\n                    span.md-txt {{ valutesData_xml.USD.CharCode[0] }}\n                  template(v-else-if='valutesData_json_js.loaded')\n                    span.md-txt {{ valutesData_json_js.USD.CharCode }}\n                  template(v-else)\n                    span.md-txt USD\n\n                .md-layout-item.nominal-col\n                  span.md-subtitle Номинал\n                  template(v-if='valutesData_xml.loaded')\n                    span.md-txt {{ valutesData_xml.EUR.Nominal[0] }}\n                  template(v-else-if='valutesData_json_js.loaded')\n                    span.md-txt {{ valutesData_json_js.EUR.Nominal }}\n                  template(v-else)\n                    span.md-txt -\n\n                .md-layout-item.value-col\n                  span.md-subtitle Курс\n                  template(v-if='valutesData_xml.loaded')\n                    span.md-txt.bold {{ valutesData_xml.USD.Value[0] }}\n                  template(v-else-if='valutesData_json_js.loaded')\n                    span.md-txt.bold {{ valutesData_json_js.USD.Value }}\n                  template(v-else)\n                    span.md-txt.bold 00\n</template>\n\n<script>\nconst axios       = require('axios'),\n      parseString = require('xml2js').parseString\n\nconst getSource = (arr, index, arrToPush, context) => {\n  axios\n    .get(arr[index], {\n      timeout: 60000\n    })\n    .then(res => {\n      if (res.headers['content-type'] === 'text/xml') {\n        parseString(res.data, (err, result) => {\n          if (result.ValCurs.Valute[11]) {\n            context.$set(context.valutesData_xml, 'EUR', result.ValCurs.Valute[11])\n          }\n\n          if (result.ValCurs.Valute[10]) {\n            context.$set(context.valutesData_xml, 'USD', result.ValCurs.Valute[10])\n          }\n          arrToPush.push(result)\n          context.valutesData_xml.loaded = true\n        })\n      }\n      \n      else {\n        if (res.data.Valute.EUR) {\n          context.$set(context.valutesData_json_js, 'EUR', res.data.Valute.EUR)\n        }\n\n        if (res.data.Valute.USD) {\n          context.$set(context.valutesData_json_js, 'USD', res.data.Valute.USD)\n        }\n        arrToPush.push(res.data)\n      }\n      context.valutesData_json_js.loaded = true\n    })\n    \n    .catch(error => {\n      if (index < arr.length - 1) {\n        return getSource(arr, index + 1, arrToPush, context);\n      }\n      throw error;\n    });\n\n  setTimeout(() => {\n    getSource(arr, index, arrToPush, context)\n  }, 10000)\n}\n\nexport default {\n  name: 'App',\n  data () {\n    return {\n      interval: null,\n      commonData: {\n        date: ''\n      },\n      valutesData_xml: {\n        loaded: false\n      },\n      valutesData_json_js: {\n        loaded: false\n      },\n      sourcesData: [],\n      sources: [\n        'https://www.cbr-xml-daily.ru/daily_utf8.xml',\n        'https://www.cbr-xml-daily.ru/daily_json.js'\n      ]\n    }\n  },\n\n  methods:{\n    dateFunction: (context) => {\n      const today       = new Date(),\n            currentDate = today.getDate()+'.'+(today.getMonth()+1)+'.'+today.getFullYear();\n\n      context.commonData.date = currentDate;\n    }\n  },\n\n  mounted: function() {\n    const self = this;\n\n    getSource(self.sources, 0, self.sourcesData, self);\n    this.dateFunction(self)\n  }\n}\n</script>\n\n<style lang='stylus'>\nbody\n  height 100%\n  font-family Roboto, sans-serif\n  -webkit-font-smoothing:antialiased\n  -moz-osx-font-smoothing grayscale\n\n#app\n  width 100%\n  height 100%\n  color #2c3e50\n\n.md-content\n  width 100%\n  height 100%\n  padding 40px\n\n.md-content-wrapper\n  display flex\n  flex-wrap wrap\n  grid-gap 20px\n\n.md-card-wrapper\n  width 400px\n\n.md-card\n  width 100%\n  display block\n\n.md-ripple\n  padding 10px\n\n.md-layout\n  grid-gap: 14px\n\n.charcode-col, .nominal-col\n  max-width 70px\n\n.md-title\n  margin 0 0 16px\n  color #000000\n\n.md-subtitle\n  width 100%\n  display inline-block\n  color #8D96B2\n  font-size 12px\n  line-height 12px\n\n.md-txt\n  width 100%\n  display inline-block\n  margin 6px 0 0\n  color #303030\n  font-size: 16px\n\n.bold\n  font-weight 600\n</style>\n"],"sourceRoot":"src"}]}