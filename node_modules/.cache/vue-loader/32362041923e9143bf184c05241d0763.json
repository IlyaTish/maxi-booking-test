{"remainingRequest":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ilyatish/Projects/maxi-booking-test/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ilyatish/Projects/maxi-booking-test/src/App.vue","mtime":1602699675556},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/cache-loader/dist/cjs.js","mtime":1581966828116},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/babel-loader/lib/index.js","mtime":1587282321022},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/cache-loader/dist/cjs.js","mtime":1581966828116},{"path":"/Users/ilyatish/Projects/maxi-booking-test/node_modules/vue-loader/lib/index.js","mtime":1602678030223}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGF4aW9zICAgICAgID0gcmVxdWlyZSgnYXhpb3MnKSwKICAgICAgcGFyc2VTdHJpbmcgPSByZXF1aXJlKCd4bWwyanMnKS5wYXJzZVN0cmluZzsKCmNvbnN0IGdldFNvdXJjZSA9IChhcnIsIGluZGV4LCBhcnJUb1B1c2gsIGNvbnRleHQpID0+IHsKICBheGlvcwogICAgLmdldChhcnJbaW5kZXhdKQogICAgLnRoZW4ocmVzID0+IHsKICAgICAgaWYgKHJlcy5oZWFkZXJzWydjb250ZW50LXR5cGUnXSA9PT0gJ3RleHQveG1sJykgewogICAgICAgIHBhcnNlU3RyaW5nKHJlcy5kYXRhLCAoZXJyLCByZXN1bHQpID0+IHsKICAgICAgICAgIGlmIChyZXN1bHQuVmFsQ3Vycy5WYWx1dGVbMTFdKSB7CiAgICAgICAgICAgIGNvbnRleHQuJHNldChjb250ZXh0LnZhbHV0ZXNEYXRhLCAnRVVSX3htbCcsIHJlc3VsdC5WYWxDdXJzLlZhbHV0ZVsxMV0pCiAgICAgICAgICB9CiAgICAgICAgICBhcnJUb1B1c2gucHVzaChyZXN1bHQpCiAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICBhcnJUb1B1c2gucHVzaChyZXMuZGF0YSkKICAgICAgfQogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBpZiAoaW5kZXggPCBhcnIubGVuZ3RoIC0gMSkgewogICAgICAgIHJldHVybiBnZXRTb3VyY2UoYXJyLCBpbmRleCArIDEsIGFyclRvUHVzaCwgY29udGV4dCk7CiAgICAgIH0KICAgICAgdGhyb3cgZXJyb3I7CiAgICB9KQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1dGVzRGF0YTogewogICAgICAgIEVVUl94bWw6IHsKICAgICAgICAgIE5hbWU6IFsnJ10KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNvdXJjZXNEYXRhOiBbXSwKICAgICAgc291cmNlczogWwogICAgICAgICdodHRwczovL3d3dy5jYnIteG1sLWRhaWx5LnJ1L2RhaWx5X3V0ZjgueG1sJywKICAgICAgICAnaHR0cHM6Ly93d3cuY2JyLXhtbC1kYWlseS5ydS9kYWlseV9qc29uLmpzJwogICAgICBdCiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbigpIHsKICAgIGNvbnN0IHNlbGYgPSB0aGlzOwogICAgZ2V0U291cmNlKHNlbGYuc291cmNlcywgMCwgc2VsZi5zb3VyY2VzRGF0YSwgc2VsZikKICB9Cn0KCgoKICAgIC8vIGF4aW9zLmFsbCgKICAgIC8vICAgc2VsZi5zb3VyY2VzLm1hcChzb3VyY2UgPT4gewogICAgLy8gICAgIGF4aW9zCiAgICAvLyAgICAgICAuZ2V0KHNvdXJjZSkKICAgIC8vICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAvLyAgICAgICAgIGlmIChyZXMuaGVhZGVyc1snY29udGVudC10eXBlJ10gPT09ICd0ZXh0L3htbCcpIHsKICAgIC8vICAgICAgICAgICBwYXJzZVN0cmluZyhyZXMuZGF0YSwgKGVyciwgcmVzdWx0KSA9PiB7CiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpCiAgICAvLyAgICAgICAgICAgICBzZWxmLnNvdXJjZXNEYXRhLnB1c2gocmVzdWx0KQogICAgLy8gICAgICAgICAgIH0pCiAgICAvLyAgICAgICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpCiAgICAvLyAgICAgICAgICAgc2VsZi5zb3VyY2VzRGF0YS5wdXNoKHJlcy5kYXRhKQogICAgLy8gICAgICAgICB9CgogICAgLy8gICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNvdXJjZXNEYXRhKQogICAgLy8gICAgICAgfSkKICAgIC8vICAgfSkKICAgIC8vICkK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template lang='pug'>\n  #app\n    .box.box-1 \n      .xml-box(v-if='valutesData') {{ valutesData.EUR_xml.Name[0] }}\n</template>\n\n<script>\nconst axios       = require('axios'),\n      parseString = require('xml2js').parseString;\n\nconst getSource = (arr, index, arrToPush, context) => {\n  axios\n    .get(arr[index])\n    .then(res => {\n      if (res.headers['content-type'] === 'text/xml') {\n        parseString(res.data, (err, result) => {\n          if (result.ValCurs.Valute[11]) {\n            context.$set(context.valutesData, 'EUR_xml', result.ValCurs.Valute[11])\n          }\n          arrToPush.push(result)\n        })\n      } else {\n        arrToPush.push(res.data)\n      }\n    }).catch(error => {\n      if (index < arr.length - 1) {\n        return getSource(arr, index + 1, arrToPush, context);\n      }\n      throw error;\n    })\n}\n\nexport default {\n  name: 'App',\n  data () {\n    return {\n      valutesData: {\n        EUR_xml: {\n          Name: ['']\n        }\n      },\n      sourcesData: [],\n      sources: [\n        'https://www.cbr-xml-daily.ru/daily_utf8.xml',\n        'https://www.cbr-xml-daily.ru/daily_json.js'\n      ]\n    }\n  },\n  mounted: function() {\n    const self = this;\n    getSource(self.sources, 0, self.sourcesData, self)\n  }\n}\n\n\n\n    // axios.all(\n    //   self.sources.map(source => {\n    //     axios\n    //       .get(source)\n    //       .then(res => {\n    //         if (res.headers['content-type'] === 'text/xml') {\n    //           parseString(res.data, (err, result) => {\n    //             console.log(result)\n    //             self.sourcesData.push(result)\n    //           })\n    //         } else {\n    //           console.log(res.data)\n    //           self.sourcesData.push(res.data)\n    //         }\n\n    //         console.log(this.sourcesData)\n    //       })\n    //   })\n    // )\n</script>\n\n<style lang='stylus'>\n#app\n  font-family: Avenir, Helvetica, Arial, sans-serif\n  -webkit-font-smoothing: antialiased\n  -moz-osx-font-smoothing: grayscale\n  text-align: center\n  color: #2c3e50\n  margin-top: 60px\n\n.box\n  margin: 40px 0\n  background #EEEEEE\n</style>\n"]}]}